---
title: 学习Shell脚本
author: Yangself
date: 2021-06-01 11:38:00 +0800
categories: [学习, Linux]
tags: [Linux]
---

## 什么是shell脚本（需要解释器解释）

1. 系统命令的堆积
2. 特定的语法+系统的命令=文件
3. 不会手动搭建或者执行某些程序，那么一定学不会shell

## shell脚本能做什么

基于标准化之上的 -> 工具化

**作用**：简化操作步骤，提高工作效率，减少人为干扰，减少故障

1. 自动化的完成基础配置
    （系统初始化操作、系统更新、内核调整、网络、时区、SSH优化）
2. 自动化安装程序
    （自动化安装LNMP、LAMP、MySQL、Nginx、Redis）
3. 自动化调整配置文件
    （Nginx Conf、MySQL Conf）
4. 自动化部署业务
    部署php、java、秒级回退
5. 自动化定期备份恢复程序
    （MySQL全备 + 增量 + binlog + crond + shell脚本）
6. 自动化信息的采集（Zabbix + shell）
    硬件、系统、服务、网络信息等等
7. 自动化日志收集（ELK）
    收集 -> 存储 -> 展示 -> 分析
    日志分析（取值 -> 排序 -> 去重 ->统计 -> 分析）
8. 自动化扩容/缩容（Zabbix + shell）
    监控服务器，如果发现cpu持续80% + 触发动作（脚本）
    脚本：调用api开通云主机 -> 初始化环境 -> 加入集群 -> 对外提供

    当前cpu使用率20% -> 判断有多少web节点 -> 判断是否超过预设 -> 缩减到对应的预设状态 -> 变更负载的配置
9. shell什么都能做，但要符合实际情况以及实际业务需求

## shell技能

### 变量

- 自定义变量
- 系统环境变量
- 预先定义变量
- 位置参数变量
